Work with URL entity
====================

You can check an URL easily as shown in the first part. Now we will see the way to manage with doctrine entity the URL's datas.

-------------------
Build an URL entity
-------------------
In order, you need to create your owns entities. Don't trouble, it's very easy !

Suppose you want use the entity MyLink as URL manager. You need to create 4 files for that :

* file YourBundle/Entity/MyLink.php

.. code-block:: php

  <?php
  namespace YourBundle\Entity;
    
  use Doctrine\ORM\Mapping as ORM;
  use OpenActu\UrlBundle\Entity\UrlAnalyzer;
  use YourBundle\Entity\MyLinkResponse;
  /**
   * MyLink
   *
   * @ORM\Table(name="my_link")
   * @ORM\Entity(repositoryClass="YourBundle\Repository\MyLinkRepository")
   */
  class LinkTest extends UrlAnalyzer{
	       
	  public function __construct()
	  {
		  $this->setResponse(new MyLinkResponse());
	  }
	  public function getResponseClass()
  	{
	   return MyLinkResponse::class;
	  }
  }

* file YourBundle/Entity/MyLinkResponse.php

.. code-block:: php

  <?php
  namespace MyBundle\Entity;
  
  use Doctrine\ORM\Mapping as ORM;
  use OpenActu\UrlBundle\Entity\UrlResponseAnalyzer;
  /**
   * MyLinkResponse
   *
   * @ORM\Table(name="my_link_response")
   * @ORM\Entity(repositoryClass="MyBundle\Repository\MyLinkResponseRepository")
   */
  class MyLinkResponse extends UrlResponseAnalyzer{
  }
  
* file YourBundle/Repository/MyLinkRepository.php
  
.. code-block:: php

  <?php
  namespace MyBundle\Repository;

  /**
   * MyLinkRepository
   *
   * This class was generated by the Doctrine ORM. Add your own custom
   * repository methods below.
   */
  use OpenActu\UrlBundle\Repository\UrlAnalyzerRepository;
  class MyLinkRepository extends UrlAnalyzerRepository
  {
  }
  
* file YourBundle/Repository/MyLinkResponse.php
  
.. code-block:: php

  <?php
  namespace MyBundle\Repository;

  /**
   * MyLinkResponseRepository
   *
   * This class was generated by the Doctrine ORM. Add your own custom
   * repository methods below.
   */
  class MyLinkResponseRepository extends \Doctrine\ORM\EntityRepository
  {
  }

Now, you can build the model with the command line 
  
  php bin/console doctrine:schema:update --force

---------
First use
---------
